---
title: Building and Running
search: true
---

## Overview

This guide covers how you can can build a Nextflow module to use in your pipeline.

## Building a Nextflow VDSL3 module

To start with, create a Viash component that targets the Nextflow platform as explained in [this guide](/documentation/guide/component/creation/nextflow.html).  
Next, use the [viash build](#) command to generate a Nextflow module inside of a **target/remove_comments** directory:

```bash
viash build src/remove_comments/config.vsh.yaml -o target/remove_comments
```   

This will generate two files in the **target/remove_comments** directory: **main.nf** and **nextflow.config**.

## Runing a standalone pipeline

A VDSL3 module can be run as a small, standalone Nextflow pipeline.  

### Documentation

It's often useful to know what arguments a module expects before trying to run it. To display the documentation for a module, run the module with just the `--help` argument:

```bash
nextflow run target/remove_comments/main.nf --help
```

This will result in output that looks similar to this:

```
N E X T F L O W  ~  version 22.04.3
Launching `target/remove_comments/main.nf` [admiring_carlsson] DSL2 - revision: 8de4c7c8eb
remove_comments

Options:
    --input
        type: file, required parameter
        example: file.tsv

    --output
        type: file, required parameter, output
        example: file.tsv
```

As you can see, this module needs a **tsv file** as its `input` and it will write the updated file away to a given `output` path.

### Running the module

To test out the module by itself, you need a tsv file to remove the comments from.



 You download a sample file we provided here: 

[Download sample.tsv](#){#btn-guide .btn-action .btn .btn-info .btn-lg role="button"}

Here are its contents:

```
# this is a header		
# this is also a header		
one     0.11	123
two	    0.23	456
three	0.35	789
four	0.47	123
```

Place **sample.tsv** file in a new directory named **data**, alongside the **src** and **target** directories.
Now run the module along with the required arguments:

```bash
nextflow run target/remove_comments/main.nf \
   --input "data/sample.tsv" \
   --publishDir output/
```

Below is the result:

```
N E X T F L O W  ~  version 22.04.3
Launching `target/remove_comments/main.nf` [jovial_waddington] DSL2 - revision: 8de4c7c8eb
WARN: Key for module 'remove_comments' is duplicated.

input: [run, [input:/home/runner/work/viash_nxf_course/viash_nxf_course/data/sample.tsv]]
[0d/f56604] Submitted process > remove_comments:remove_comments_process1
output: [run, /home/runner/work/viash_nxf_course/viash_nxf_course/work/0d/f56604df86c95c8cee3656fae27de5/run.remove_comments.output.tsv]
```

A new tsv file should've been generated now in the **output** folder.